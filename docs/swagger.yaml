basePath: /api/v1
definitions:
  dto.AppInfo:
    properties:
      environment:
        type: string
      name:
        type: string
      start_time:
        type: string
      status:
        type: string
      uptime:
        type: string
      version:
        type: string
    type: object
  dto.ApplicationStatus:
    properties:
      app:
        $ref: '#/definitions/dto.AppInfo'
      dependencies:
        items:
          $ref: '#/definitions/dto.Dependency'
        type: array
      services:
        $ref: '#/definitions/dto.ServicesStatus'
    type: object
  dto.AuthRequest:
    properties:
      email:
        type: string
      password:
        minLength: 8
        type: string
    required:
    - email
    - password
    type: object
  dto.AuthResponse:
    properties:
      access_token:
        type: string
      expires_at:
        type: integer
      expires_in:
        type: integer
      token_type:
        type: string
      user:
        $ref: '#/definitions/dto.AuthUserResponse'
    type: object
  dto.AuthUserResponse:
    properties:
      created_at:
        type: string
      email:
        type: string
      id:
        type: string
      name:
        type: string
      role:
        type: string
    type: object
  dto.BasicHealthCheck:
    properties:
      app:
        type: string
      status:
        $ref: '#/definitions/dto.HealthStatus'
      timestamp:
        type: string
    type: object
  dto.BulkAssignRoleRequest:
    properties:
      user_ids:
        items:
          type: string
        minItems: 1
        type: array
    required:
    - user_ids
    type: object
  dto.CPUInfo:
    properties:
      cores:
        type: integer
      goroutines:
        type: integer
    type: object
  dto.ComprehensiveHealthCheck:
    properties:
      app:
        $ref: '#/definitions/dto.AppInfo'
      database:
        $ref: '#/definitions/dto.DatabaseStatus'
      status:
        $ref: '#/definitions/dto.HealthStatus'
      system:
        $ref: '#/definitions/dto.SystemInfo'
      timestamp:
        type: string
    type: object
  dto.DatabaseService:
    properties:
      name:
        type: string
      ping_time:
        type: string
      status:
        $ref: '#/definitions/dto.ServiceStatus'
      version:
        type: string
    type: object
  dto.DatabaseStatus:
    properties:
      error:
        type: string
      idle_connections:
        type: integer
      max_connections:
        type: integer
      name:
        type: string
      open_connections:
        type: integer
      ping_time:
        type: string
      status:
        $ref: '#/definitions/dto.ServiceStatus'
      total_queries:
        type: integer
      version:
        type: string
    type: object
  dto.Dependency:
    properties:
      name:
        type: string
      status:
        $ref: '#/definitions/dto.ServiceStatus'
      version:
        type: string
    type: object
  dto.DetailedSystemInfo:
    properties:
      cpu:
        $ref: '#/definitions/dto.CPUInfo'
      memory:
        $ref: '#/definitions/dto.MemoryInfo'
      runtime:
        $ref: '#/definitions/dto.RuntimeInfo'
    type: object
  dto.DownloadUserFilesRequest:
    properties:
      modul_ids:
        items:
          type: integer
        type: array
      project_ids:
        items:
          type: integer
        type: array
    type: object
  dto.EmailService:
    properties:
      api_key_set:
        type: boolean
      name:
        type: string
      provider:
        type: string
      status:
        $ref: '#/definitions/dto.ServiceStatus'
    type: object
  dto.ErrorResponse:
    properties:
      code:
        type: integer
      errors: {}
      message:
        type: string
      status:
        type: string
      timestamp:
        type: string
    type: object
  dto.HealthStatus:
    enum:
    - healthy
    - unhealthy
    - degraded
    type: string
    x-enum-varnames:
    - HealthStatusHealthy
    - HealthStatusUnhealthy
    - HealthStatusDegraded
  dto.HttpMetrics:
    properties:
      active_requests:
        type: integer
      response_times:
        $ref: '#/definitions/dto.ResponseTimes'
      total_requests:
        type: integer
    type: object
  dto.MemoryInfo:
    properties:
      allocated:
        type: string
      gc_count:
        type: integer
      system:
        type: string
      total_allocated:
        type: string
    type: object
  dto.ModulDownloadRequest:
    properties:
      ids:
        items:
          type: string
        minItems: 1
        type: array
    required:
    - ids
    type: object
  dto.ModulListData:
    properties:
      items:
        items:
          $ref: '#/definitions/dto.ModulListItem'
        type: array
      pagination:
        $ref: '#/definitions/dto.PaginationData'
    type: object
  dto.ModulListItem:
    properties:
      deskripsi:
        type: string
      file_name:
        type: string
      file_size:
        type: integer
      id:
        type: string
      judul:
        type: string
      mime_type:
        type: string
      status:
        type: string
      terakhir_diperbarui:
        type: string
    type: object
  dto.PaginationData:
    properties:
      limit:
        type: integer
      page:
        type: integer
      total_items:
        type: integer
      total_pages:
        type: integer
    type: object
  dto.ProfileData:
    properties:
      created_at:
        type: string
      email:
        type: string
      foto_profil:
        type: string
      jenis_kelamin:
        type: string
      jumlah_modul:
        type: integer
      jumlah_project:
        type: integer
      name:
        type: string
      role:
        type: string
    type: object
  dto.ProjectDownloadRequest:
    properties:
      ids:
        items:
          type: integer
        minItems: 1
        type: array
    required:
    - ids
    type: object
  dto.RefreshTokenResponse:
    properties:
      access_token:
        type: string
      expires_at:
        type: integer
      expires_in:
        type: integer
      token_type:
        type: string
    type: object
  dto.RegisterRequest:
    properties:
      email:
        type: string
      name:
        maxLength: 100
        minLength: 2
        type: string
      password:
        minLength: 8
        type: string
    required:
    - email
    - name
    - password
    type: object
  dto.ResetPasswordRequest:
    properties:
      email:
        type: string
    required:
    - email
    type: object
  dto.ResponseTimes:
    properties:
      avg:
        type: string
      max:
        type: string
      min:
        type: string
    type: object
  dto.RoleCreateRequest:
    properties:
      nama_role:
        maxLength: 50
        minLength: 2
        type: string
      permissions:
        additionalProperties:
          items:
            type: string
          type: array
        type: object
    required:
    - nama_role
    - permissions
    type: object
  dto.RoleUpdateRequest:
    properties:
      nama_role:
        maxLength: 50
        minLength: 2
        type: string
      permissions:
        additionalProperties:
          items:
            type: string
          type: array
        type: object
    required:
    - nama_role
    - permissions
    type: object
  dto.RuntimeInfo:
    properties:
      arch:
        type: string
      compiler:
        type: string
      go_version:
        type: string
      os:
        type: string
    type: object
  dto.ServiceStatus:
    enum:
    - healthy
    - unhealthy
    - connected
    - disconnected
    - error
    - loaded
    - running
    type: string
    x-enum-varnames:
    - ServiceStatusHealthy
    - ServiceStatusUnhealthy
    - ServiceStatusConnected
    - ServiceStatusDisconnected
    - ServiceStatusError
    - ServiceStatusLoaded
    - ServiceStatusRunning
  dto.ServicesStatus:
    properties:
      database:
        $ref: '#/definitions/dto.DatabaseService'
      email:
        $ref: '#/definitions/dto.EmailService'
    type: object
  dto.StatisticData:
    properties:
      total_modul:
        type: integer
      total_project:
        type: integer
      total_role:
        type: integer
      total_user:
        type: integer
    type: object
  dto.SuccessResponse:
    properties:
      code:
        type: integer
      data: {}
      message:
        type: string
      status:
        type: string
      timestamp:
        type: string
    type: object
  dto.SystemInfo:
    properties:
      cpu_cores:
        type: integer
      goroutines:
        type: integer
      memory_usage:
        type: string
    type: object
  dto.SystemMetrics:
    properties:
      app:
        $ref: '#/definitions/dto.AppInfo'
      database:
        $ref: '#/definitions/dto.DatabaseStatus'
      http:
        $ref: '#/definitions/dto.HttpMetrics'
      system:
        $ref: '#/definitions/dto.DetailedSystemInfo'
    type: object
  dto.TusModulUploadInfoResponse:
    properties:
      created_at:
        type: string
      deskripsi:
        type: string
      judul:
        type: string
      length:
        type: integer
      modul_id:
        type: string
      offset:
        type: integer
      progress:
        type: number
      status:
        type: string
      updated_at:
        type: string
      upload_id:
        type: string
    type: object
  dto.TusModulUploadResponse:
    properties:
      length:
        type: integer
      offset:
        type: integer
      upload_id:
        type: string
      upload_url:
        type: string
    type: object
  dto.TusModulUploadSlotResponse:
    properties:
      available:
        type: boolean
      max_queue:
        type: integer
      message:
        type: string
      queue_length:
        type: integer
    type: object
  dto.TusUploadInfoResponse:
    properties:
      created_at:
        type: string
      kategori:
        type: string
      length:
        type: integer
      nama_project:
        type: string
      offset:
        type: integer
      progress:
        type: number
      project_id:
        type: integer
      semester:
        type: integer
      status:
        type: string
      updated_at:
        type: string
      upload_id:
        type: string
    type: object
  dto.TusUploadResponse:
    properties:
      length:
        type: integer
      offset:
        type: integer
      upload_id:
        type: string
      upload_url:
        type: string
    type: object
  dto.TusUploadSlotResponse:
    properties:
      active_upload:
        type: boolean
      available:
        type: boolean
      max_concurrent:
        type: integer
      message:
        type: string
      queue_length:
        type: integer
    type: object
  dto.UpdateModulRequest:
    properties:
      deskripsi:
        type: string
      judul:
        maxLength: 255
        minLength: 3
        type: string
    type: object
  dto.UpdateProfileRequest:
    properties:
      jenis_kelamin:
        enum:
        - Laki-laki
        - Perempuan
        type: string
      name:
        maxLength: 100
        minLength: 2
        type: string
    required:
    - name
    type: object
  dto.UpdateProjectRequest:
    properties:
      kategori:
        enum:
        - website
        - mobile
        - iot
        - machine_learning
        - deep_learning
        type: string
      nama_project:
        maxLength: 255
        minLength: 3
        type: string
      semester:
        maximum: 8
        minimum: 1
        type: integer
    type: object
  dto.UpdateUserRoleRequest:
    properties:
      role:
        type: string
    required:
    - role
    type: object
  dto.UserFileItem:
    properties:
      download_url:
        type: string
      id:
        type: string
      kategori:
        type: string
      nama_file:
        type: string
    type: object
  dto.UserFilesData:
    properties:
      items:
        items:
          $ref: '#/definitions/dto.UserFileItem'
        type: array
      pagination:
        $ref: '#/definitions/dto.PaginationData'
    type: object
  dto.UserListData:
    properties:
      items:
        items:
          $ref: '#/definitions/dto.UserListItem'
        type: array
      pagination:
        $ref: '#/definitions/dto.PaginationData'
    type: object
  dto.UserListItem:
    properties:
      dibuat_pada:
        type: string
      email:
        type: string
      id:
        type: string
      role:
        type: string
    type: object
  dto.UserPermissionItem:
    properties:
      actions:
        items:
          type: string
        type: array
      resource:
        type: string
    type: object
host: localhost:3000
info:
  contact: {}
  description: REST API service for managing projects, modules, users, and file uploads
    with JWT authentication and RBAC.
  title: Invento Service API
  version: "1.0"
paths:
  /auth/login:
    post:
      consumes:
      - application/json
      description: Autentikasi pengguna melalui Supabase Auth dengan email dan password.
        Data profil lokal disinkronkan jika diperlukan.
      parameters:
      - description: Credential login (email, password)
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.AuthRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Login berhasil
          schema:
            allOf:
            - $ref: '#/definitions/dto.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/dto.AuthResponse'
              type: object
        "400":
          description: Format request tidak valid
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Email atau password salah
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "403":
          description: Akun belum diaktifkan
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Terjadi kesalahan pada server
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Login pengguna
      tags:
      - Auth
  /auth/logout:
    post:
      consumes:
      - application/json
      description: Menghapus refresh token dari cookie dan database.
      produces:
      - application/json
      responses:
        "200":
          description: Logout berhasil
          schema:
            $ref: '#/definitions/dto.SuccessResponse'
        "400":
          description: Refresh token diperlukan
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Token tidak valid
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Terjadi kesalahan pada server
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Logout pengguna
      tags:
      - Auth
  /auth/refresh:
    post:
      consumes:
      - application/json
      description: Memperbarui access token menggunakan refresh token dari cookie.
      produces:
      - application/json
      responses:
        "200":
          description: Token berhasil diperbarui
          schema:
            allOf:
            - $ref: '#/definitions/dto.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/dto.RefreshTokenResponse'
              type: object
        "400":
          description: Refresh token diperlukan
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Token tidak valid atau expired
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Terjadi kesalahan pada server
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Refresh access token
      tags:
      - Auth
  /auth/register:
    post:
      consumes:
      - application/json
      description: Membuat akun pengguna baru melalui Supabase Auth dan menyimpan
        data profil ke database lokal.
      parameters:
      - description: Data registrasi (name, email, password)
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.RegisterRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Registrasi berhasil
          schema:
            allOf:
            - $ref: '#/definitions/dto.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/dto.AuthResponse'
              type: object
        "400":
          description: Data validasi tidak valid
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "409":
          description: Email sudah terdaftar
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Terjadi kesalahan pada server
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Registrasi pengguna baru
      tags:
      - Auth
  /auth/reset-password:
    post:
      consumes:
      - application/json
      description: Mengirim link reset password ke email yang terdaftar melalui Supabase
        Auth.
      parameters:
      - description: Email untuk reset password
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.ResetPasswordRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Link reset password telah dikirim
          schema:
            $ref: '#/definitions/dto.SuccessResponse'
        "400":
          description: Format request tidak valid
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Email tidak ditemukan
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Terjadi kesalahan pada server
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Minta reset password
      tags:
      - Auth
  /health:
    get:
      consumes:
      - application/json
      description: |-
        Melakukan pemeriksaan dasar kesehatan server. Mengembalikan status dasar tanpa pengecekan koneksi database.
        Note: This endpoint is registered at /health (not under /api/v1).
      produces:
      - application/json
      responses:
        "200":
          description: Server berjalan dengan baik
          schema:
            allOf:
            - $ref: '#/definitions/dto.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/dto.BasicHealthCheck'
              type: object
      summary: Basic Health Check
      tags:
      - Monitoring
  /modul:
    get:
      consumes:
      - application/json
      description: Retrieve paginated list of modules with optional filters
      parameters:
      - description: Search by judul or deskripsi
        in: query
        name: search
        type: string
      - description: Filter by mime type
        in: query
        name: filter_type
        type: string
      - description: Filter by status (pending, completed)
        in: query
        name: filter_status
        type: string
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 10
        description: Items per page
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: List retrieved successfully
          schema:
            allOf:
            - $ref: '#/definitions/dto.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/dto.ModulListData'
              type: object
        "400":
          description: Invalid query parameters
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get list of modules
      tags:
      - Modul
  /modul/{id}:
    delete:
      consumes:
      - application/json
      description: Permanently delete a module by ID
      parameters:
      - description: Module ID (UUID)
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Module deleted successfully
          schema:
            $ref: '#/definitions/dto.SuccessResponse'
        "400":
          description: Invalid module ID
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "403":
          description: Forbidden - no access to this module
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Module not found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Delete a module
      tags:
      - Modul
    patch:
      consumes:
      - application/json
      description: Update judul or deskripsi of an existing module
      parameters:
      - description: Module ID (UUID)
        in: path
        name: id
        required: true
        type: string
      - description: Update request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.UpdateModulRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Metadata updated successfully
          schema:
            $ref: '#/definitions/dto.SuccessResponse'
        "400":
          description: Invalid request format
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "403":
          description: Forbidden - no access to this module
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Module not found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update module metadata
      tags:
      - Modul
  /modul/{id}/update/{upload_id}:
    delete:
      description: Membatalkan upload update modul yang sedang berlangsung berdasarkan
        modul ID dan upload ID
      parameters:
      - description: Modul ID (UUID)
        in: path
        name: id
        required: true
        type: string
      - description: Upload ID
        in: path
        name: upload_id
        required: true
        type: string
      - default: 1.0.0
        description: TUS protocol version
        in: header
        name: Tus-Resumable
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: Upload update berhasil dibatalkan
        "400":
          description: ID modul tidak valid
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Upload not found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Cancel modul update upload
      tags:
      - TUS Modul Upload
    get:
      description: Mendapatkan informasi detail upload update modul berdasarkan modul
        ID dan upload ID
      parameters:
      - description: Modul ID (UUID)
        in: path
        name: id
        required: true
        type: string
      - description: Upload ID
        in: path
        name: upload_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Informasi update upload berhasil didapat
          schema:
            allOf:
            - $ref: '#/definitions/dto.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/dto.TusModulUploadInfoResponse'
              type: object
        "400":
          description: ID modul tidak valid
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Upload not found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get modul update upload info
      tags:
      - TUS Modul Upload
    head:
      description: Get the current offset and length of a TUS modul update upload
        via HEAD request
      parameters:
      - description: Modul ID (UUID)
        in: path
        name: id
        required: true
        type: string
      - description: Upload ID
        in: path
        name: upload_id
        required: true
        type: string
      - default: 1.0.0
        description: TUS protocol version
        in: header
        name: Tus-Resumable
        required: true
        type: string
      responses:
        "200":
          description: Upload status
          headers:
            Tus-Resumable:
              description: TUS protocol version
              type: string
            Upload-Length:
              description: Total file size
              type: string
            Upload-Offset:
              description: Current byte offset
              type: string
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Upload not found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get modul update upload status
      tags:
      - TUS Modul Upload
    patch:
      consumes:
      - application/offset+octet-stream
      description: Upload a chunk of data for a TUS resumable modul update upload
      parameters:
      - description: Modul ID (UUID)
        in: path
        name: id
        required: true
        type: string
      - description: Upload ID
        in: path
        name: upload_id
        required: true
        type: string
      - default: 1.0.0
        description: TUS protocol version
        in: header
        name: Tus-Resumable
        required: true
        type: string
      - description: Byte offset for this chunk
        in: header
        name: Upload-Offset
        required: true
        type: integer
      - default: application/offset+octet-stream
        description: Content type
        in: header
        name: Content-Type
        required: true
        type: string
      responses:
        "204":
          description: Chunk uploaded
          headers:
            Tus-Resumable:
              description: TUS protocol version
              type: string
            Upload-Offset:
              description: New byte offset after chunk
              type: string
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Upload not found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "409":
          description: Offset mismatch
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Upload modul update file chunk
      tags:
      - TUS Modul Upload
  /modul/{id}/upload:
    post:
      consumes:
      - application/json
      description: Start a new TUS resumable upload to update an existing module file
      parameters:
      - description: Modul ID (UUID)
        in: path
        name: id
        required: true
        type: string
      - default: 1.0.0
        description: TUS protocol version
        in: header
        name: Tus-Resumable
        required: true
        type: string
      - description: Total file size in bytes
        in: header
        name: Upload-Length
        required: true
        type: integer
      - description: Upload metadata (judul, deskripsi)
        in: header
        name: Upload-Metadata
        required: true
        type: string
      produces:
      - application/json
      responses:
        "201":
          description: Update upload initiated
          headers:
            Location:
              description: Upload URL
              type: string
            Tus-Resumable:
              description: TUS protocol version
              type: string
          schema:
            allOf:
            - $ref: '#/definitions/dto.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/dto.TusModulUploadResponse'
              type: object
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Modul not found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Initiate modul update upload
      tags:
      - TUS Modul Upload
  /modul/download:
    post:
      consumes:
      - application/json
      description: Download one or more modules as a ZIP file
      parameters:
      - description: Download request with module IDs
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.ModulDownloadRequest'
      produces:
      - application/zip
      responses:
        "200":
          description: ZIP file containing module files
          schema:
            type: file
        "400":
          description: Invalid request format or empty IDs
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: One or more modules not found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Download modules as ZIP
      tags:
      - Modul
  /modul/upload/:
    post:
      consumes:
      - application/json
      description: Start a new TUS resumable upload for a module file
      parameters:
      - default: 1.0.0
        description: TUS protocol version
        in: header
        name: Tus-Resumable
        required: true
        type: string
      - description: Total file size in bytes
        in: header
        name: Upload-Length
        required: true
        type: integer
      - description: Upload metadata (judul, deskripsi)
        in: header
        name: Upload-Metadata
        required: true
        type: string
      produces:
      - application/json
      responses:
        "201":
          description: Upload initiated
          headers:
            Location:
              description: Upload URL
              type: string
            Tus-Resumable:
              description: TUS protocol version
              type: string
          schema:
            allOf:
            - $ref: '#/definitions/dto.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/dto.TusModulUploadResponse'
              type: object
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "409":
          description: No upload slot available
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Initiate modul upload
      tags:
      - TUS Modul Upload
  /modul/upload/{upload_id}:
    delete:
      description: Membatalkan upload modul yang sedang berlangsung berdasarkan upload
        ID
      parameters:
      - description: Upload ID
        in: path
        name: upload_id
        required: true
        type: string
      - default: 1.0.0
        description: TUS protocol version
        in: header
        name: Tus-Resumable
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: Upload berhasil dibatalkan
        "400":
          description: Upload ID tidak valid
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Upload not found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Cancel modul upload
      tags:
      - TUS Modul Upload
    get:
      description: Mendapatkan informasi detail upload modul berdasarkan upload ID
      parameters:
      - description: Upload ID
        in: path
        name: upload_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Informasi upload berhasil didapat
          schema:
            allOf:
            - $ref: '#/definitions/dto.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/dto.TusModulUploadInfoResponse'
              type: object
        "400":
          description: Upload ID tidak valid
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Upload not found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get modul upload info
      tags:
      - TUS Modul Upload
    head:
      description: Get the current offset and length of a TUS modul upload via HEAD
        request
      parameters:
      - description: Upload ID
        in: path
        name: upload_id
        required: true
        type: string
      - default: 1.0.0
        description: TUS protocol version
        in: header
        name: Tus-Resumable
        required: true
        type: string
      responses:
        "200":
          description: Upload status
          headers:
            Tus-Resumable:
              description: TUS protocol version
              type: string
            Upload-Length:
              description: Total file size
              type: string
            Upload-Offset:
              description: Current byte offset
              type: string
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Upload not found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get modul upload status
      tags:
      - TUS Modul Upload
    patch:
      consumes:
      - application/offset+octet-stream
      description: Upload a chunk of data for a TUS resumable modul upload
      parameters:
      - description: Upload ID
        in: path
        name: upload_id
        required: true
        type: string
      - default: 1.0.0
        description: TUS protocol version
        in: header
        name: Tus-Resumable
        required: true
        type: string
      - description: Byte offset for this chunk
        in: header
        name: Upload-Offset
        required: true
        type: integer
      - default: application/offset+octet-stream
        description: Content type
        in: header
        name: Content-Type
        required: true
        type: string
      responses:
        "204":
          description: Chunk uploaded
          headers:
            Tus-Resumable:
              description: TUS protocol version
              type: string
            Upload-Offset:
              description: New byte offset after chunk
              type: string
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Upload not found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "409":
          description: Offset mismatch
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Upload modul file chunk
      tags:
      - TUS Modul Upload
  /modul/upload/check-slot:
    get:
      description: Check if a modul upload slot is available for the authenticated
        user
      produces:
      - application/json
      responses:
        "200":
          description: Slot status
          schema:
            allOf:
            - $ref: '#/definitions/dto.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/dto.TusModulUploadSlotResponse'
              type: object
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Check modul upload slot
      tags:
      - TUS Modul Upload
  /monitoring/health:
    get:
      consumes:
      - application/json
      description: |-
        Melakukan pemeriksaan kesehatan menyeluruh termasuk koneksi database, penggunaan memori, CPU, dan lainnya.
        -
        Mengembalikan status HTTP 503 jika sistem tidak sehat (database terputus atau error).
      produces:
      - application/json
      responses:
        "200":
          description: Sistem sehat
          schema:
            allOf:
            - $ref: '#/definitions/dto.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/dto.ComprehensiveHealthCheck'
              type: object
        "503":
          description: Beberapa komponen sistem mengalami masalah
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      summary: Comprehensive Health Check
      tags:
      - Monitoring
  /monitoring/metrics:
    get:
      consumes:
      - application/json
      description: Mengambil metrik sistem detail termasuk penggunaan memori, CPU,
        statistik database, dan metrik HTTP.
      produces:
      - application/json
      responses:
        "200":
          description: Metrics sistem berhasil diambil
          schema:
            allOf:
            - $ref: '#/definitions/dto.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/dto.SystemMetrics'
              type: object
      summary: System Metrics
      tags:
      - Monitoring
  /monitoring/status:
    get:
      consumes:
      - application/json
      description: Mengambil status aplikasi lengkap termasuk uptime, layanan yang
        aktif, dan dependency eksternal.
      produces:
      - application/json
      responses:
        "200":
          description: Status aplikasi berhasil diambil
          schema:
            allOf:
            - $ref: '#/definitions/dto.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/dto.ApplicationStatus'
              type: object
      summary: Application Status
      tags:
      - Monitoring
  /profile:
    get:
      consumes:
      - application/json
      description: Get the profile of the authenticated user
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/dto.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/dto.ProfileData'
              type: object
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get user profile
      tags:
      - User Profile
    put:
      consumes:
      - application/json
      description: Update the profile of the authenticated user
      parameters:
      - description: Profile update request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.UpdateProfileRequest'
      - description: Profile photo (optional)
        in: formData
        name: foto_profil
        type: file
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/dto.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/dto.ProfileData'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update user profile
      tags:
      - User Profile
  /project:
    get:
      consumes:
      - application/json
      description: Retrieve paginated list of projects with optional filters
      parameters:
      - description: Search by project name
        in: query
        name: search
        type: string
      - description: Filter by semester (1-8)
        in: query
        name: filter_semester
        type: integer
      - description: Filter by category (website, mobile, iot, machine_learning, deep_learning)
        in: query
        name: filter_kategori
        type: string
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 10
        description: Items per page
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: List retrieved successfully
          schema:
            $ref: '#/definitions/dto.SuccessResponse'
        "400":
          description: Invalid query parameters
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get list of projects
      tags:
      - Project
  /project/{id}:
    delete:
      consumes:
      - application/json
      description: Permanently delete a project by ID
      parameters:
      - description: Project ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Project deleted successfully
          schema:
            $ref: '#/definitions/dto.SuccessResponse'
        "400":
          description: Invalid project ID
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "403":
          description: Forbidden - no access to this project
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Project not found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Delete a project
      tags:
      - Project
    get:
      consumes:
      - application/json
      description: Retrieve details of a specific project by ID
      parameters:
      - description: Project ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Project details retrieved successfully
          schema:
            $ref: '#/definitions/dto.SuccessResponse'
        "400":
          description: Invalid project ID
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "403":
          description: Forbidden - no access to this project
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Project not found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get project by ID
      tags:
      - Project
    patch:
      consumes:
      - application/json
      description: Update nama_project, kategori, or semester of an existing project
      parameters:
      - description: Project ID
        in: path
        name: id
        required: true
        type: integer
      - description: Update request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.UpdateProjectRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Metadata updated successfully
          schema:
            $ref: '#/definitions/dto.SuccessResponse'
        "400":
          description: Invalid request format
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "403":
          description: Forbidden - no access to this project
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Project not found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update project metadata
      tags:
      - Project
  /project/{id}/update/{upload_id}:
    delete:
      description: Cancel and clean up a TUS project update upload
      parameters:
      - description: Project ID
        in: path
        name: id
        required: true
        type: integer
      - description: Upload ID
        in: path
        name: upload_id
        required: true
        type: string
      - default: 1.0.0
        description: TUS protocol version
        in: header
        name: Tus-Resumable
        required: true
        type: string
      responses:
        "204":
          description: Upload cancelled
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Upload not found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Cancel project update upload
      tags:
      - TUS Upload
    get:
      description: Get detailed information about a TUS project update upload
      parameters:
      - description: Project ID
        in: path
        name: id
        required: true
        type: integer
      - description: Upload ID
        in: path
        name: upload_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Upload info
          schema:
            allOf:
            - $ref: '#/definitions/dto.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/dto.TusUploadInfoResponse'
              type: object
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Upload not found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get project update upload info
      tags:
      - TUS Upload
    head:
      description: Get the current offset and length of a TUS project update upload
        via HEAD request
      parameters:
      - description: Project ID
        in: path
        name: id
        required: true
        type: integer
      - description: Upload ID
        in: path
        name: upload_id
        required: true
        type: string
      - default: 1.0.0
        description: TUS protocol version
        in: header
        name: Tus-Resumable
        required: true
        type: string
      responses:
        "200":
          description: Upload status
          headers:
            Tus-Resumable:
              description: TUS protocol version
              type: string
            Upload-Length:
              description: Total file size
              type: string
            Upload-Offset:
              description: Current byte offset
              type: string
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Upload not found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get project update upload status
      tags:
      - TUS Upload
    patch:
      consumes:
      - application/offset+octet-stream
      description: Upload a chunk of data for a TUS resumable project update upload
      parameters:
      - description: Project ID
        in: path
        name: id
        required: true
        type: integer
      - description: Upload ID
        in: path
        name: upload_id
        required: true
        type: string
      - default: 1.0.0
        description: TUS protocol version
        in: header
        name: Tus-Resumable
        required: true
        type: string
      - description: Byte offset for this chunk
        in: header
        name: Upload-Offset
        required: true
        type: integer
      - default: application/offset+octet-stream
        description: Content type
        in: header
        name: Content-Type
        required: true
        type: string
      responses:
        "204":
          description: Chunk uploaded
          headers:
            Tus-Resumable:
              description: TUS protocol version
              type: string
            Upload-Offset:
              description: New byte offset after chunk
              type: string
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Upload not found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "409":
          description: Offset mismatch
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Upload project update file chunk
      tags:
      - TUS Upload
  /project/{id}/upload:
    post:
      consumes:
      - application/json
      description: Start a new TUS resumable upload to update an existing project
        file
      parameters:
      - description: Project ID
        in: path
        name: id
        required: true
        type: integer
      - default: 1.0.0
        description: TUS protocol version
        in: header
        name: Tus-Resumable
        required: true
        type: string
      - description: Total file size in bytes
        in: header
        name: Upload-Length
        required: true
        type: integer
      - description: Upload metadata (nama_project, kategori, semester)
        in: header
        name: Upload-Metadata
        type: string
      produces:
      - application/json
      responses:
        "201":
          description: Update upload initiated
          headers:
            Location:
              description: Upload URL
              type: string
            Tus-Resumable:
              description: TUS protocol version
              type: string
          schema:
            allOf:
            - $ref: '#/definitions/dto.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/dto.TusUploadResponse'
              type: object
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Project not found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Initiate project update upload
      tags:
      - TUS Upload
  /project/download:
    post:
      consumes:
      - application/json
      description: Download one or more projects as a ZIP file
      parameters:
      - description: Download request with project IDs
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.ProjectDownloadRequest'
      produces:
      - application/zip
      responses:
        "200":
          description: ZIP file containing project files
          schema:
            type: file
        "400":
          description: Invalid request format or empty IDs
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: One or more projects not found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Download projects as ZIP
      tags:
      - Project
  /project/upload/:
    post:
      consumes:
      - application/json
      description: Start a new TUS resumable upload for a project file
      parameters:
      - default: 1.0.0
        description: TUS protocol version
        in: header
        name: Tus-Resumable
        required: true
        type: string
      - description: Total file size in bytes
        in: header
        name: Upload-Length
        required: true
        type: integer
      - description: Upload metadata (nama_project, kategori, semester)
        in: header
        name: Upload-Metadata
        required: true
        type: string
      produces:
      - application/json
      responses:
        "201":
          description: Upload initiated
          headers:
            Location:
              description: Upload URL
              type: string
            Tus-Resumable:
              description: TUS protocol version
              type: string
          schema:
            allOf:
            - $ref: '#/definitions/dto.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/dto.TusUploadResponse'
              type: object
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "409":
          description: No upload slot available
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Initiate project upload
      tags:
      - TUS Upload
  /project/upload/{id}:
    delete:
      description: Cancel and clean up a TUS project upload
      parameters:
      - description: Upload ID
        in: path
        name: id
        required: true
        type: string
      - default: 1.0.0
        description: TUS protocol version
        in: header
        name: Tus-Resumable
        required: true
        type: string
      responses:
        "204":
          description: Upload cancelled
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Upload not found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Cancel project upload
      tags:
      - TUS Upload
    get:
      description: Get detailed information about a TUS project upload
      parameters:
      - description: Upload ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Upload info
          schema:
            allOf:
            - $ref: '#/definitions/dto.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/dto.TusUploadInfoResponse'
              type: object
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Upload not found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get project upload info
      tags:
      - TUS Upload
    head:
      description: Get the current offset and length of a TUS project upload via HEAD
        request
      parameters:
      - description: Upload ID
        in: path
        name: id
        required: true
        type: string
      - default: 1.0.0
        description: TUS protocol version
        in: header
        name: Tus-Resumable
        required: true
        type: string
      responses:
        "200":
          description: Upload status
          headers:
            Tus-Resumable:
              description: TUS protocol version
              type: string
            Upload-Length:
              description: Total file size
              type: string
            Upload-Offset:
              description: Current byte offset
              type: string
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Upload not found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get project upload status
      tags:
      - TUS Upload
    patch:
      consumes:
      - application/offset+octet-stream
      description: Upload a chunk of data for a TUS resumable project upload
      parameters:
      - description: Upload ID
        in: path
        name: id
        required: true
        type: string
      - default: 1.0.0
        description: TUS protocol version
        in: header
        name: Tus-Resumable
        required: true
        type: string
      - description: Byte offset for this chunk
        in: header
        name: Upload-Offset
        required: true
        type: integer
      - default: application/offset+octet-stream
        description: Content type
        in: header
        name: Content-Type
        required: true
        type: string
      responses:
        "204":
          description: Chunk uploaded
          headers:
            Tus-Resumable:
              description: TUS protocol version
              type: string
            Upload-Offset:
              description: New byte offset after chunk
              type: string
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Upload not found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "409":
          description: Offset mismatch
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Upload project file chunk
      tags:
      - TUS Upload
  /project/upload/check-slot:
    get:
      description: Check if an upload slot is available for the authenticated user
      produces:
      - application/json
      responses:
        "200":
          description: Slot status
          schema:
            allOf:
            - $ref: '#/definitions/dto.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/dto.TusUploadSlotResponse'
              type: object
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "409":
          description: No slot available
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Check project upload slot
      tags:
      - TUS Upload
  /project/upload/reset-queue:
    post:
      description: Reset the upload queue for the authenticated user
      parameters:
      - default: 1.0.0
        description: TUS protocol version
        in: header
        name: Tus-Resumable
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Queue reset berhasil
          schema:
            $ref: '#/definitions/dto.SuccessResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Reset project upload queue
      tags:
      - TUS Upload
  /role:
    get:
      consumes:
      - application/json
      description: Retrieves a paginated list of roles with optional search
      parameters:
      - description: Search keyword
        in: query
        name: search
        type: string
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 10
        description: Items per page
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Roles retrieved successfully
          schema:
            $ref: '#/definitions/dto.SuccessResponse'
        "400":
          description: Invalid query parameters
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get role list
      tags:
      - Roles
    post:
      consumes:
      - application/json
      description: Creates a new role with the specified name and permissions
      parameters:
      - description: Role creation request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.RoleCreateRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Role created successfully
          schema:
            $ref: '#/definitions/dto.SuccessResponse'
        "400":
          description: Invalid request format
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "409":
          description: Role name already exists
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create role
      tags:
      - Roles
  /role/{id}:
    delete:
      consumes:
      - application/json
      description: Deletes a role and removes all associated permissions
      parameters:
      - description: Role ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Role deleted successfully
          schema:
            $ref: '#/definitions/dto.SuccessResponse'
        "400":
          description: Invalid role ID
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Role not found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Delete role
      tags:
      - Roles
    get:
      consumes:
      - application/json
      description: Retrieves detailed information about a specific role including
        its permissions
      parameters:
      - description: Role ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Role details retrieved successfully
          schema:
            $ref: '#/definitions/dto.SuccessResponse'
        "400":
          description: Invalid role ID
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Role not found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get role detail
      tags:
      - Roles
    put:
      consumes:
      - application/json
      description: Updates an existing role's name and permissions
      parameters:
      - description: Role ID
        in: path
        name: id
        required: true
        type: integer
      - description: Role update request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.RoleUpdateRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Role updated successfully
          schema:
            $ref: '#/definitions/dto.SuccessResponse'
        "400":
          description: Invalid request format
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Role not found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "409":
          description: Role name already exists
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update role
      tags:
      - Roles
  /role/{id}/users:
    get:
      description: Mendapatkan daftar user yang memiliki role tertentu berdasarkan
        role ID
      parameters:
      - description: Role ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Daftar user untuk role berhasil diambil
          schema:
            $ref: '#/definitions/dto.SuccessResponse'
        "400":
          description: ID role tidak valid
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Role tidak ditemukan
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get users for a specific role
      tags:
      - Role Management
  /role/{id}/users/bulk:
    post:
      consumes:
      - application/json
      description: Menetapkan role tertentu ke beberapa user sekaligus berdasarkan
        daftar user ID
      parameters:
      - description: Role ID
        in: path
        name: id
        required: true
        type: integer
      - description: Daftar user ID
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.BulkAssignRoleRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Role berhasil ditetapkan ke user
          schema:
            $ref: '#/definitions/dto.SuccessResponse'
        "400":
          description: Format request tidak valid
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Role tidak ditemukan
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "422":
          description: Validasi gagal
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Bulk assign role to users
      tags:
      - Role Management
  /role/permissions:
    get:
      consumes:
      - application/json
      description: Retrieves all available permissions grouped by resource
      produces:
      - application/json
      responses:
        "200":
          description: Permissions retrieved successfully
          schema:
            $ref: '#/definitions/dto.SuccessResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get available permissions
      tags:
      - Roles
  /statistic:
    get:
      consumes:
      - application/json
      description: |-
        Mengambil data statistik berdasarkan role dan permission user.
        -
        Data yang dikembalikan bersifat dinamis:
        - **Admin** mendapatkan semua statistik (project, modul, user, role)
        - **User biasa** hanya mendapatkan statistik yang mereka miliki aksesnya
        - Field yang tidak memiliki permission akan bernilai null/omit
        -
        **Permission Mapping:**
        - `total_project`: memerlukan permission "Project:read"
        - `total_modul`: memerlukan permission "Modul:read"
        - `total_user`: memerlukan permission "User:read"
        - `total_role`: memerlukan permission "Role:read"
      produces:
      - application/json
      responses:
        "200":
          description: Data statistik berhasil diambil (partial untuk user biasa)
          schema:
            allOf:
            - $ref: '#/definitions/dto.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/dto.StatisticData'
              type: object
        "401":
          description: Tidak memiliki akses
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Terjadi kesalahan pada server
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get User Statistics
      tags:
      - Statistics
  /user:
    get:
      consumes:
      - application/json
      description: Get paginated list of users with optional search and filters
      parameters:
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 10
        description: Items per page
        in: query
        name: limit
        type: integer
      - description: Search keyword
        in: query
        name: search
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/dto.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/dto.UserListData'
              type: object
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get list of users
      tags:
      - User Management
  /user/{id}:
    delete:
      consumes:
      - application/json
      description: Delete a specific user by ID
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.SuccessResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Delete user
      tags:
      - User Management
  /user/{id}/download:
    post:
      consumes:
      - application/json
      description: Download files owned by a specific user
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: integer
      - description: Download request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.DownloadUserFilesRequest'
      produces:
      - application/octet-stream
      responses:
        "200":
          description: OK
          schema:
            type: file
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Download user files
      tags:
      - User Management
  /user/{id}/files:
    get:
      consumes:
      - application/json
      description: Get list of files owned by a specific user
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: integer
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 10
        description: Items per page
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/dto.SuccessResponse'
            - properties:
                data:
                  $ref: '#/definitions/dto.UserFilesData'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get user files
      tags:
      - User Management
  /user/{id}/role:
    put:
      consumes:
      - application/json
      description: Update the role of a specific user
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: integer
      - description: Role update request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.UpdateUserRoleRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.SuccessResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Update user role
      tags:
      - User Management
  /user/permissions:
    get:
      consumes:
      - application/json
      description: Get the permissions of the authenticated user
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/dto.SuccessResponse'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/dto.UserPermissionItem'
                  type: array
              type: object
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/dto.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get user permissions
      tags:
      - User Profile
securityDefinitions:
  BearerAuth:
    description: 'JWT Authorization header using the Bearer scheme. Example: "Bearer
      {token}"'
    in: header
    name: Authorization
    type: apiKey
  CookieAuth:
    description: Access token stored in HttpOnly cookie (set automatically on login/register/refresh)
    in: cookie
    name: access_token
    type: apiKey
swagger: "2.0"
